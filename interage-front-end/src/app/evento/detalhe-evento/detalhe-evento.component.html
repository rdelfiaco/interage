<div *ngIf="carregando" style="height: 100%; width: 100%">
  <app-carregando></app-carregando>
</div>

<div *ngIf="!carregando">
  <!-- Nav tabs -->
  <div *ngIf="podeVisualizarEvento">
    <mdb-tabset [buttonClass]="'classic-tabs tabs-cyan'" [contentClass]="'card'" class="classic-tabs">
      <!--Panel 1-->
      <mdb-tab heading="Evento">
        <div class="row">
          <div class="col-12">
            <div class="row" style="padding: 0px 15px;">
              <div class="md-form col-12">
                <div class="row justify-content-start">
                  <button type="button" [disabled]="podeConcluir" style="white-space: nowrap;" mdbBtn color="primary"
                    class="waves-light" aria-label="Somente Visualizar" (click)="concluirEvento()" mdbWavesEffect>Concluir</button>
                  <button type="button" [disabled]="podeEncaminhar" style="white-space: nowrap;" mdbBtn color="warning" class="relative waves-light"
                    (click)="confirmSeTornarResponsavelModal.hide(); confirmaSeTornarResponsavel();" mdbWavesEffect>Encaminhar</button>
                </div>
                <app-formulario-evento [evento]="evento | async"></app-formulario-evento>
              </div>
            </div>
          </div>
        </div>
      </mdb-tab>
      <!--Panel 2-->
      <mdb-tab heading="HistÃ³rico Evento">
        <div class="row">
          <div class="col-12">
            <br>
            <app-linha-do-tempo-evento [pessoa]="pessoa | async"></app-linha-do-tempo-evento>
          </div>
        </div>
      </mdb-tab>
    </mdb-tabset>
  </div>
  <div class="row justify-content-end">
    <button type="button" style="white-space: nowrap;" mdbBtn color="danger" class="waves-light" aria-label="Cancelar"
      (click)="confirmSeTornarResponsavelModal.hide(); cancelaSeTornarResponsavel()" mdbWavesEffect>Cancelar</button>
  </div>

  <div mdbModal #modalConcluirEvento="mdbModal" [config]="{backdrop: true}" class="modal fade right" role="dialog"
    aria-labelledby="myBasicModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <app-concluir-evento [evento]="evento" [pessoa]="pessoa" [motivos_respostas]="motivos_respostas" [predicoes]="predicoes"
        [objecoes]="objecoes" (fechaModal)="fechaModal()"></app-concluir-evento>
    </div>
  </div>
  <div *ngIf="!podeVisualizarEvento">
    <app-sem-permissao></app-sem-permissao>
  </div>
</div>