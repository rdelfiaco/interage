<body class="pink-skin"></body>

<!--Double navigation-->
<header>

  <!-- Sidebar navigation -->
  <mdb-side-nav #sidenav class="sn-bg-1 fixed" [fixed]="true">

    <mdb-navbar-brand>
      <li>
        <div class="logo-wrapper waves-light">
          <a href="#">
            <img src="http://mdbootstrap.com/img/logo/mdb-transparent.png" class="img-fluid flex-center">
          </a>
        </div>
      </li>
      <!--/. Logo -->
    </mdb-navbar-brand>

    <links>
      <!--Social-->
      <!-- <li>
                <ul class="social">
                    <li>
                        <a class="icons-sm fb-ic">
                            <i class="fa fa-facebook"> </i>
                        </a>
                    </li>
                    <li>
                        <a class="icons-sm pin-ic">
                            <i class="fa fa-pinterest"> </i>
                        </a>
                    </li>
                    <li>
                        <a class="icons-sm gplus-ic">
                            <i class="fa fa-google-plus"> </i>
                        </a>
                    </li>
                    <li>
                        <a class="icons-sm tw-ic">
                            <i class="fa fa-twitter"> </i>
                        </a>
                    </li>
                </ul>
            </li> -->
      <!--/Social-->
      <!--Search Form-->
      <!-- <li>
                <form class="search-form" role="search">
                    <div class="form-group md-form mt-0 pt-1 waves-light" mdbWavesEffect>
                        <input type="text" class="form-control" placeholder="Search">
                    </div>
                </form>
            </li> -->
      <!--/.Search Form-->
      <!-- Side navigation links -->
      <li>
        <ul class="collapsible collapsible-accordion">
          <mdb-accordion [multiple]="false" aria-multiselectable="false">
            <!-- Simple link -->
            <mdb-accordion-item class="no-collase">
              <mdb-accordion-item-head mdbWavesEffect>
                <i class="fa fa-volume-control-phone font-weight-bold text-dark"></i>
                <span class="font-weight-bold text-dark" (click)="openPage('telemarketing')">Telemarketing</span>
              </mdb-accordion-item-head>
              <mdb-accordion-item-body></mdb-accordion-item-body>
            </mdb-accordion-item>

          </mdb-accordion>
        </ul>
      </li>
      <!--/. Side navigation links -->
    </links>

    <div class="sidenav-bg mask-strong"></div>
  </mdb-side-nav>
  <!--/. Sidebar navigation -->

  <!-- Navbar -->
  <mdb-navbar SideClass="navbar navbar-toggleable-md navbar-expand-lg scrolling-navbar double-nav" [containerInside]="false">

    <navlinks class="navbar-container">
      <!-- SideNav slide-out button -->
      <div class="float-left">
        <a (click)="sidenav.show()" class="button-collapse-non-fixed">
          <i class="fa fa-bars"></i>
        </a>
      </div>
      <!--/. SideNav slide-out button -->
    </navlinks>


    <mdb-navbar-brand>
      <!-- Breadcrumb-->
      <div class="breadcrumbs breadcrumb-dn mr-auto">
        <p>Telemarketing</p>
      </div>
      <!--/. Breadcrumb-->
    </mdb-navbar-brand>

    <navlinks>
      <ul class="nav navbar-nav nav-flex-icons ml-auto ie-double-nav">
        <!-- <li class="nav-item">
                    <a class="nav-link waves-light" mdbWavesEffect>
                        <i class="fa fa-envelope"></i>
                        <span class="clearfix d-none d-sm-inline-block">Contact</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link waves-light" mdbWavesEffect>
                        <i class="fa fa-comments-o"></i>
                        <span class="clearfix d-none d-sm-inline-block">Support</span>
                    </a>
                </li> -->
        <li class="nav-item">
          <a class="nav-link waves-light" mdbWavesEffect>
            <i class="fa fa-sign-out"></i>
            <span class="clearfix d-none d-sm-inline-block">Sair</span>
          </a>
        </li>
        <!-- <li class="nav-item dropdown btn-group" dropdown>
                    <a dropdownToggle type="button" class="nav-link dropdown-toggle waves-light" mdbWavesEffect>
                        Dropdown
                    </a>
                    <div class="dropdown-menu dropdown-primary dropdown-menu-right" role="menu">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li> -->
      </ul>
    </navlinks>
  </mdb-navbar>
  <!--/. Navbar -->

</header>
<!--/.Double navigation-->

<!--Main Layout-->
<main>
  <div class="h5 text-center">Campanha de Telemarketing</div>
  <div class="row">
    <div class="col-md-6">
      <mdb-select (selected)="getSelectedValue($event)" [options]="campanhas | async" [multiple]="false" placeholder="Escolha sua campanha"></mdb-select>
      <label>Campanha</label>
    </div>

    <div *ngIf="!campanhaIniciada" class="col-md-6">
      <a *ngIf="campanhaSelecionada" class="btn btn-success btn-rounded" (click)="iniciarCampanha()" ripple-radius>Iniciar</a>
      <a *ngIf="!campanhaSelecionada" class="btn btn-elegant btn-rounded" disabled ripple-radius>Iniciar</a>
    </div>

    <div *ngIf="campanhaIniciada" class="col-md-6">
      <a *ngIf="campanhaSelecionada" class="btn btn-elegant btn-rounded" disabled ripple-radius>Iniciar</a>
      <a *ngIf="campanhaSelecionada" class="btn btn-danger btn-rounded" (click)="pararCampanha()" ripple-radius>Parar</a>
    </div>
  </div>

  <br />
  <br />
  <div class="row" *ngIf="campanhaIniciada">
    <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="solicitarLigacao(); basicModal.show();"
      mdbWavesEffect> Solicitar Ligação</button>
    <div mdbModal #basicModal="mdbModal" [config]="{backdrop: true, ignoreBackdropClick: true}" class="modal fade right"
      tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-fluid" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title w-100" id="myModalLabel">Responder Questionário</h4>
          </div>
          <div class="modal-body" style="overflow: auto; height: 400px;">
            <div class="row">
              <div class="col-md-5">
                <app-telemarketing-questionario></app-telemarketing-questionario>
              </div>
              <div class="col-md-7">
                <app-cadastro-pessoa></app-cadastro-pessoa>
              </div>
            </div>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" mdbBtn color="primary" (click)="basicModal.hide(); gravarLigacao();" class="relative waves-light"
              mdbWavesEffect>Gravar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!--/Main layout-->